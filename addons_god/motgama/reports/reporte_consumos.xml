<odoo>

    <report id="reporte_consumo"
        model="motgama.reporteconsumos"
        string="Reporte de Consumos"
        report_type="qweb-pdf"
        name="motgama.reporteconsumos"/>

    <template id="reporteconsumos">
        <t t-call="web.html_container">
            <t t-call="motgama.doc_header"/>
            <div class="page" style="font-size: 10px;">
                <div>
                    <h2 class="text-center">Reporte de consumos</h2>
                </div>
                <div>
                    <table style="width: 100%">
                        <thead>
                            <th class="text-center" style="width: 13%">Recepción</th>
                            <th class="text-center" style="width: 12%">Fecha</th>
                            <th class="text-center" style="width: 13%">Habitación</th>
                            <th class="text-center" style="width: 12%">Producto</th>
                            <th class="text-center" style="width: 13%">Cantidad</th>
                            <th class="text-center" style="width: 12%">Valor Unitario</th>
                            <th class="text-center" style="width: 13%">Valor Total</th>
                            <th class="text-center" style="width: 12%">Usuario</th>
                        </thead>
                        <tbody>
                            <t t-foreach="docs" t-as="doc">
                                <tr>
                                    <td class="text-center">
                                        <span t-field="doc.recepcion"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-field="doc.fecha"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-field="doc.habitacion"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-field="doc.producto"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-field="doc.cantidad"/>
                                    </td>
                                    <td class="text-center">
                                        $ <span t-field="doc.valorUnitario"/>
                                    </td>
                                    <td class="text-center">
                                        $ <span t-field="doc.valorTotal"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-field="doc.usuario"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
                <div>
                    <h6>Resumen por Productos</h6>
                    <table style="width: 100%">
                        <thead>
                            <th class="text-center" style="width: 34%">Producto</th>
                            <th class="text-center" style="width: 34%">Cantidad</th>
                            <th class="text-center" style="width: 34%">Total</th>
                        </thead>
                        <tbody>
                            <t t-foreach="productos" t-as="prod">
                                <tr>
                                    <td class="text-center">
                                        <span t-esc="prod"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="productos[prod]['cantidad']"/>
                                    </td>
                                    <td class="text-center">
                                        $ <span t-esc="productos[prod]['valor']"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
                <div>
                    <h6>Resumen por Categorías</h6>
                    <table style="width: 100%">
                        <thead>
                            <th class="text-center" style="width: 34%">Categoría</th>
                            <th class="text-center" style="width: 34%">Total</th>
                        </thead>
                        <tbody>
                            <t t-foreach="categorias" t-as="categ">
                                <tr>
                                    <td class="text-center">
                                        <span t-esc="categ"/>
                                    </td>
                                    <td class="text-center">
                                        $ <span t-esc="categorias[categ]"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
                <div>
                    <p><span class="font-weight-bold">Total consumos:</span> $ <span t-esc="total"/></p>
                </div>
            </div>
        </t>
    </template>
</odoo>